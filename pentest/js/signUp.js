$(document).ready(function() {
  $('form').submit(function(event) {
    event.preventDefault();
    password = $('#password').val();
    username = $('#email').val();
    family_name = $('#apellido').val();
    given_name = $('#nombre').val();
    var attributeList = [];
    var dataEmail = {
        Name : 'email',
        Value : username
    };
    var name = {
        Name : 'given_name',
        Value : given_name
    };
    var lastName = {
        Name : 'family_name',
        Value : family_name
    };
    var attributeEmail = new AmazonCognitoIdentity.CognitoUserAttribute(dataEmail);
    var attributeName = new AmazonCognitoIdentity.CognitoUserAttribute(name);
    var attributeLastName = new AmazonCognitoIdentity.CognitoUserAttribute(lastName);
    attributeList.push(attributeEmail);
    attributeList.push(attributeName);
    attributeList.push(attributeLastName);
    userPool.signUp(username,password, attributeList, null, function(err, result){
      if (err) {
        $('#error').html(err.message || JSON.stringify(err));
        console.log(err);
        return;
      }
      else {
        console.log(result.user.getUsername());
        window.location.href = "./validar-correo-electronico.html";
      }
    });
  });
});
